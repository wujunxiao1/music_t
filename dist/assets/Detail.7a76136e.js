import{U as L,a4 as J,Y as P,h as n,l as y,m as f,k as t,z as v,a as e,x as m,I as r,V as x,W as V,X as q,j as l,G as h,H as k,Z as Q,M as ss,a5 as ts,a6 as is,K as es,r as os,o as as,aa as ns,ag as ls,B as d,$ as p,ac as cs,a8 as rs,a9 as ds}from"./index.d80bb040.js";import{_ as _s}from"./MvList.94348f0f.js";import"./el-skeleton-item.d9bf27c5.js";import"./MvMain.40496ddc.js";const C=u=>(x("data-v-16b5099a"),u=u(),V(),u),us={class:"album-img"},ms=C(()=>t("div",{slot:"placeholder",class:"image-slot"},[t("i",{class:"iconfont icon-placeholder"})],-1)),ps={class:"album-oper"},hs=C(()=>t("span",{class:"oper-btn oper-play"},[t("i",{class:"iconfont icon-audio-play"})],-1)),fs=C(()=>t("span",{class:"oper-btn oper-add"},[t("i",{class:"iconfont icon-add"})],-1)),vs={class:"album-info"},gs={class:"album-name"},ys={class:"album-info-bottom"},bs={class:"album-time"},$s={class:"album-count"},ks={props:{info:Object},setup(u){const g=u,{info:a}=J(g);return(b,S)=>{const s=q,$=P("router-link");return n(),y($,{to:{path:"/album",query:{id:e(a).id}},class:"album"},{default:f(()=>[t("div",us,[v(s,{src:e(a).picUrl+"?param=120y120"},{default:f(()=>[ms]),_:1},8,["src"]),t("div",ps,[t("span",{class:m(["oper-btn oper-collect",[e(a).isSub?"active":""]])},[t("i",{class:m(["iconfont","icon-collect"+(e(a).isSub?"-active":"")])},null,2)],2),hs,fs])]),t("div",vs,[t("div",gs,r(e(a).name),1),t("div",ys,[t("div",bs,r(b.$utils.formartDate(e(a).publishTime,"yyyy-MM-dd")),1),t("div",$s," \u5171"+r(e(a).size)+"\u9996 ",1)])])]),_:1},8,["to"])}}};var Ss=L(ks,[["__scopeId","data-v-16b5099a"]]);const As={class:"album-main"},zs={class:"item",key:"id"},ws={props:{albumList:Array},setup(u){const g=u;return(a,b)=>(n(),l("div",As,[(n(!0),l(h,null,k(g.albumList,S=>(n(),l("div",zs,[v(Ss,{info:S},null,8,["info"])]))),128))]))}};var Ls=L(ws,[["__scopeId","data-v-3a39b01c"]]);const _=u=>(x("data-v-38e718a4"),u=u(),V(),u),Cs={class:"detail"},Is={key:0,class:"detail-container"},Ds={class:"detail-main"},Ms={class:"detail-headImg"},Ns=_(()=>t("div",{slot:"placeholder",class:"image-slot"},[t("i",{class:"iconfont icon-placeholder"})],-1)),Ps={class:"detail-info"},xs={class:"cover"},Vs={class:"cover-img"},qs=_(()=>t("div",{slot:"placeholder",class:"image-slot"},[t("i",{class:"iconfont icon-placeholder"})],-1)),Bs={class:"singer-info"},Fs={class:"singer-name"},Us={class:"singer-alias"},Rs={class:"singer-digital"},Ts={key:0,class:"singer-track"},Es=p(" \xB7 "),Os={class:"singer-album"},js=p(" \xB7 "),Gs={class:"singer-mv"},Hs={class:"singer-oper"},Ks={class:"singer-main"},Ws={class:"singer-hd"},Xs=_(()=>t("em",null,"\u4F5C\u54C1\u96C6",-1)),Ys={class:"singer-tab"},Zs={key:0,class:"song-oper"},Js=_(()=>t("i",{class:"iconfont icon-audio-play"},null,-1)),Qs=p(" \u64AD\u653E\u5168\u90E8"),st=[Js,Qs],tt=_(()=>t("i",{class:"iconfont icon-add"},null,-1)),it=p(" \u6DFB\u52A0\u5230\u64AD\u653E\u5217\u8868"),et=[tt,it],ot=_(()=>t("i",{class:"iconfont icon-collect"},null,-1)),at=p(" \u6536\u85CF\u70ED\u95E8"),nt=[ot,at],lt={key:1,class:"singer-list"},ct={key:3,class:"brief"},rt={class:"artist-desc-main"},dt={class:"introduction"},_t=_(()=>t("dt",null,"\u827A\u4EBA\u4ECB\u7ECD",-1)),ut={key:2,class:"pagination"},mt={class:"detail-aside"},pt={class:"singer-box singer-fans"},ht=_(()=>t("div",{class:"aside-title"},"Fans \xB7 \u7C89\u4E1D",-1)),ft={class:"aside-main fans-main"},vt={class:"fans-list"},gt=_(()=>t("div",{slot:"placeholder",class:"image-slot"},[t("i",{class:"iconfont icon-placeholder"})],-1)),yt={class:"fans-num"},bt=_(()=>t("span",null,"\u4EBA\u5DF2\u5173\u6CE8",-1)),$t=_(()=>t("div",{class:"fans-tips"},"\u70B9\u51FB\u5173\u6CE8\uFF0C\u8046\u542C\u66F4\u591A\u7F8E\u597D\u97F3\u4E50",-1)),kt={class:"singer-box singer-simi"},St=_(()=>t("div",{class:"aside-title"},"\u76F8\u4F3C\u6B4C\u624B",-1)),At={class:"aside-main simi-main"},zt=_(()=>t("div",{slot:"placeholder",class:"image-slot"},[t("i",{class:"iconfont icon-placeholder"})],-1)),wt={class:"simi-info"},Lt={class:"simi-name"},Ct={class:"singer-digital"},It={key:0,class:"singer-track"},Dt=p(" \xB7 "),Mt={class:"singer-album"},Nt=p(" \xB7 "),Pt={class:"singer-mv"},xt={class:"simi-oper"},Vt=["onClick"],qt={setup(u){const g=Q.playListInfoStore(),{proxy:a}=ss(),b=ts(),S=is(),s=es({id:"",briefDesc:"",introduction:[],topicData:[],artist:{},user:{},hotSongs:[],hotAlbums:[],hotMvs:[],fans:[],simiArtists:[],fansCount:{},albumSize:0,mvSize:0,pageSize:0,type:b.query.type||"hot",limit:20,offset:0,isLoading:!1}),$=os(1),B=async()=>{const{data:i}=await a.$http.artistDesc({id:s.id});if(i.code!==200)return a.$msg.error("\u6570\u636E\u8BF7\u6C42\u5931\u8D25");s.briefDesc=i.briefDesc,s.introduction=i.introduction,s.isLoading=!1},F=async()=>{const{data:i}=await a.$http.artists({id:s.id,timestamp:new Date().valueOf()});if(i.code!==200)return a.$msg.error("\u6570\u636E\u8BF7\u6C42\u5931\u8D25");s.hotSongs=i.hotSongs.map(c=>cs(c)),s.isLoading=!1},U=async()=>{const{data:i}=await a.$http.artistDetail({id:s.id,timestamp:new Date().valueOf()});if(i.code!==200)return a.$msg.error("\u6570\u636E\u8BF7\u6C42\u5931\u8D25");s.artist=i.data.artist,s.albumSize=i.data.artist.albumSize,s.mvSize=i.data.artist.mvSize},I=async()=>{const{data:i}=await a.$http.artistAlbum({id:s.id,limit:s.limit,offset:s.offset});if(i.code!==200)return a.$msg.error("\u6570\u636E\u8BF7\u6C42\u5931\u8D25");s.hotAlbums=i.hotAlbums,s.isLoading=!1},R=async()=>{const{data:i}=await a.$http.artistMv({id:s.id,limit:s.limit,offset:s.offset});if(i.code!==200)return a.$msg.error("\u6570\u636E\u8BF7\u6C42\u5931\u8D25");s.hotMvs=i.mvs,s.isLoading=!1},D=async i=>{const{data:c}=await a.$http.artistSub({id:i.id,t:i.followed?0:1});if(c.code!==200)return a.$msg.error("\u6570\u636E\u8BF7\u6C42\u5931\u8D25");a.$msg.success("\u64CD\u4F5C\u6210\u529F"),i.followed=i.followed?0:1},T=async()=>{const{data:i}=await a.$http.artistFans({id:s.id});if(i.code!==200)return a.$msg.error("\u6570\u636E\u8BF7\u6C42\u5931\u8D25");s.fans=i.data},E=async()=>{const{data:i}=await a.$http.artistFansCount({id:s.id});if(i.code!==200)return a.$msg.error("\u6570\u636E\u8BF7\u6C42\u5931\u8D25");s.fansCount=i.data},O=async()=>{const{data:i}=await a.$http.simiArtists({id:s.id});if(i.code!==200)return a.$msg.error("\u6570\u636E\u8BF7\u6C42\u5931\u8D25");s.simiArtists=i.artists.slice(0,8)},A=i=>{const c={id:s.id,type:i};s.type=i,s.pageSize=s[i+"Size"],S.push({path:"/singer/detail",query:c})},j=()=>{g.selectPlay(s.hotSongs)},G=()=>{g.addToList(s.hotSongs)},H=()=>{},K=i=>{$.value=i,s.offset=(i-1)*s.limit,I()};as(()=>{s.id=b.query.id||"",M()}),ns(i=>{s.id=i.query.id,M()});const M=i=>{switch(s.isLoading=!0,T(),O(),E(),U(),s.type){case"album":I();break;case"mv":R();break;case"brief":B();break;default:F()}};return(i,c)=>{const z=q,W=rs,X=ds,Y=_s,Z=ls,N=P("router-link");return n(),l("div",Cs,[e(s)?(n(),l("div",Is,[t("div",Ds,[t("div",Ms,[v(z,{src:e(s).artist.cover},{default:f(()=>[Ns]),_:1},8,["src"])]),t("div",Ps,[t("div",xs,[t("div",Vs,[v(z,{src:e(s).artist.avatar},{default:f(()=>[qs]),_:1},8,["src"])])]),t("div",Bs,[t("div",Fs,r(e(s).artist.name),1),t("div",Us,[(n(!0),l(h,null,k(e(s).artist.alias,(o,w)=>(n(),l("span",{key:w},r(o),1))),128))]),t("div",Rs,[e(s).artist.musicSize?(n(),l("span",Ts,r(i.$utils.formartNum(e(s).artist.musicSize))+"\u5355\u66F2",1)):d("",!0),e(s).artist.albumSize?(n(),l(h,{key:1},[Es,t("span",Os,r(i.$utils.formartNum(e(s).artist.albumSize))+"\u4E13\u8F91",1)],64)):d("",!0),e(s).artist.mvSize?(n(),l(h,{key:2},[js,t("span",Gs,r(i.$utils.formartNum(e(s).artist.mvSize))+"MV",1)],64)):d("",!0)])]),t("div",Hs,[t("span",{class:m(["singer-btn singer-collect",e(s).artist.followed?"active":""]),onClick:c[0]||(c[0]=o=>D(e(s).artist))},[t("i",{class:m(["iconfont","icon-collect"+(e(s).artist.followed?"-active":"")])},null,2),p(r(e(s).artist.followed?"\u5DF2\u5173\u6CE8":"\u5173\u6CE8"),1)],2)])]),t("div",Ks,[t("div",Ws,[Xs,t("div",Ys,[t("span",{class:m([e(s).type==="hot"?"active":""]),onClick:c[1]||(c[1]=o=>A("hot"))},"\u70ED\u95E8\u4F5C\u54C1",2),t("span",{class:m([e(s).type==="album"?"active":""]),onClick:c[2]||(c[2]=o=>A("album"))},"\u6240\u6709\u4E13\u8F91",2),t("span",{class:m([e(s).type==="mv"?"active":""]),onClick:c[3]||(c[3]=o=>A("mv"))},"\u76F8\u5173MV",2),t("span",{class:m([e(s).type==="brief"?"active":""]),onClick:c[4]||(c[4]=o=>A("brief"))},"\u827A\u4EBA\u4ECB\u7ECD",2)]),e(s).type==="hot"?(n(),l("div",Zs,[t("span",{onClick:j,class:"singer-btn playAll"},st),t("span",{onClick:G,class:"singer-btn addAll"},et),t("span",{onClick:H,class:"singer-btn collectAll"},nt)])):d("",!0)]),e(s).isLoading?(n(),y(W,{key:0})):(n(),l("div",lt,[e(s).type==="hot"?(n(),y(X,{key:0,songList:e(s).hotSongs,stripe:!0},null,8,["songList"])):d("",!0),e(s).type==="album"?(n(),y(Ls,{key:1,albumList:e(s).hotAlbums,loading:e(s).isLoading},null,8,["albumList","loading"])):d("",!0),e(s).type==="mv"?(n(),y(Y,{key:2,mvList:e(s).hotMvs,loading:e(s).isLoading},null,8,["mvList","loading"])):d("",!0),e(s).type==="brief"?(n(),l("div",ct,[t("div",rt,[t("dl",dt,[_t,t("dd",null,r(e(s).briefDesc),1)]),(n(!0),l(h,null,k(e(s).introduction,(o,w)=>(n(),l("dl",{key:w,class:"introduction"},[t("dt",null,r(o.ti),1),t("dd",null,r(o.txt),1)]))),128))])])):d("",!0)])),e(s).type!=="hot"&&e(s).type!=="brief"?(n(),l("div",ut,[v(Z,{currentPage:$.value,"onUpdate:currentPage":c[5]||(c[5]=o=>$.value=o),"page-size":e(s).limit,layout:"prev, pager, next",total:e(s).pageSize,onCurrentChange:K},null,8,["currentPage","page-size","total"])])):d("",!0)])]),t("div",mt,[t("div",pt,[ht,t("div",ft,[t("div",vt,[(n(!0),l(h,null,k(e(s).fans,o=>(n(),y(N,{class:"fans-item",to:{path:"/home",query:{id:o.userProfile.userId}},key:o.userProfile.userId},{default:f(()=>[v(z,{src:o.userProfile.avatarUrl},{default:f(()=>[gt]),_:2},1032,["src"])]),_:2},1032,["to"]))),128))]),t("div",yt,[p(r(i.$utils.formartNum(e(s).fansCount.fansCnt)),1),bt]),$t])]),t("div",kt,[St,t("div",At,[(n(!0),l(h,null,k(e(s).simiArtists,o=>(n(),l("div",{class:"simi-item",key:o.id},[v(N,{class:"simi-l",to:{path:"/singer/detail",query:{id:o.id}}},{default:f(()=>[v(z,{src:o.picUrl},{default:f(()=>[zt]),_:2},1032,["src"]),t("div",wt,[t("div",Lt,r(o.name),1),t("div",Ct,[o.musicSize?(n(),l("span",It,r(i.$utils.formartNum(o.musicSize))+"\u5355\u66F2",1)):d("",!0),o.albumSize?(n(),l(h,{key:1},[Dt,t("span",Mt,r(i.$utils.formartNum(o.albumSize))+"\u4E13\u8F91",1)],64)):d("",!0),o.mvSize?(n(),l(h,{key:2},[Nt,t("span",Pt,r(i.$utils.formartNum(o.mvSize))+"MV",1)],64)):d("",!0)])])]),_:2},1032,["to"]),t("div",xt,[t("span",{class:m(["singer-btn singer-collect",o.followed?"active":""]),onClick:w=>D(o)},[t("i",{class:m(["iconfont","icon-collect"+(o.followed?"-active":"")])},null,2),p(r(o.followed?"\u5DF2\u5173\u6CE8":"\u5173\u6CE8"),1)],10,Vt)])]))),128))])])])])):d("",!0)])}}};var Tt=L(qt,[["__scopeId","data-v-38e718a4"]]);export{Tt as default};
